{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/cafieness/Desktop/FMS-TEAM4/app/src/pages/Overview/Overview.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport transactionForm from './transactionForm';\nimport PageHeader from '../../components/PageHeader';\nimport PeopleOutlineTwoToneIcon from '@material-ui/icons/PeopleOutlineTwoTone';\nimport { Paper, makeStyles, TableBody, TableRow, TableCell, Toolbar, InputAdornment } from '@material-ui/core';\nimport useTable from '../../components/useTable';\nimport * as Service from '../../services/Service';\nimport Controls from '../../components/controls/Controls';\nimport { Search } from '@material-ui/icons';\nimport AddIcon from '@material-ui/icons/Add';\nimport Popup from '../../components/Popup';\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\nconst headCells = [{\n  id: 'date',\n  label: 'Дата'\n}, {\n  id: 'type',\n  label: 'Тип'\n}, {\n  id: 'money',\n  label: 'Сумма'\n}, {\n  id: 'balanceId',\n  label: 'Счет'\n}, {\n  id: 'categoryId',\n  label: 'Категория'\n}, {\n  id: 'contractorId',\n  label: 'Контрагент'\n}, {\n  id: 'projectId',\n  label: 'Проект'\n}];\nexport default function Overview() {\n  _s();\n\n  const [recordForEdit, setRecordForEdit] = useState(null);\n  const [records, setRecords] = useState(Service.getAllTransactions());\n  const [filterFn, setFilterFn] = useState({\n    fn: items => {\n      return items;\n    }\n  });\n  const [openPopup, setOpenPopup] = useState(false);\n  const {\n    TblContainer,\n    TblHead,\n    TblPagination,\n    recordsAfterPagingAndSorting\n  } = useTable(records, headCells, filterFn);\n\n  const handleSearch = e => {\n    let target = e.target;\n    setFilterFn({\n      fn: items => {\n        if (target.value == '') return items;else return items.filter(x => x.fullName.toLowerCase().includes(target.value));\n      }\n    });\n  };\n\n  const addOrEdit = (transaction, resetForm) => {\n    if (transaction.id == 0) Service.inserttransaction(transaction);else Service.updatetransaction(transaction);\n    resetForm();\n    setRecordForEdit(null);\n    setOpenPopup(false);\n    setRecords(Service.getAllTransactions());\n  };\n\n  const openInPopup = item => {\n    setRecordForEdit(item);\n    setOpenPopup(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n      children: /*#__PURE__*/_jsxDEV(Controls.Button, {\n        text: \"Add New\",\n        variant: \"outlined\",\n        startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 22\n        }, this),\n        onClick: () => {\n          setOpenPopup(true);\n          setRecordForEdit(null);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TblContainer, {\n      children: [/*#__PURE__*/_jsxDEV(TblHead, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: recordsAfterPagingAndSorting().map(item => /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: item.date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: item.type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: item.money\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: item.balance\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: item.categoryId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: item.contractorId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: item.projectId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: [/*#__PURE__*/_jsxDEV(Controls.ActionButton, {\n              color: \"primary\",\n              onClick: () => {\n                openInPopup(item);\n              },\n              children: /*#__PURE__*/_jsxDEV(EditOutlinedIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Controls.ActionButton, {\n              color: \"secondary\",\n              children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TblPagination, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Popup, {\n      title: \"transaction Form\",\n      openPopup: openPopup,\n      setOpenPopup: setOpenPopup,\n      children: /*#__PURE__*/_jsxDEV(\"transactionForm\", {\n        recordForEdit: recordForEdit,\n        addOrEdit: addOrEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Overview, \"ps8VoWn9Yhl3PLfpbbpbe/O8G5g=\", false, function () {\n  return [useTable];\n});\n\n_c = Overview;\n\nvar _c;\n\n$RefreshReg$(_c, \"Overview\");","map":{"version":3,"sources":["/home/cafieness/Desktop/FMS-TEAM4/app/src/pages/Overview/Overview.js"],"names":["React","useState","transactionForm","PageHeader","PeopleOutlineTwoToneIcon","Paper","makeStyles","TableBody","TableRow","TableCell","Toolbar","InputAdornment","useTable","Service","Controls","Search","AddIcon","Popup","EditOutlinedIcon","CloseIcon","headCells","id","label","Overview","recordForEdit","setRecordForEdit","records","setRecords","getAllTransactions","filterFn","setFilterFn","fn","items","openPopup","setOpenPopup","TblContainer","TblHead","TblPagination","recordsAfterPagingAndSorting","handleSearch","e","target","value","filter","x","fullName","toLowerCase","includes","addOrEdit","transaction","resetForm","inserttransaction","updatetransaction","openInPopup","item","map","date","type","money","balance","categoryId","contractorId","projectId"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport transactionForm from './transactionForm';\nimport PageHeader from '../../components/PageHeader';\nimport PeopleOutlineTwoToneIcon from '@material-ui/icons/PeopleOutlineTwoTone';\nimport {\n  Paper,\n  makeStyles,\n  TableBody,\n  TableRow,\n  TableCell,\n  Toolbar,\n  InputAdornment,\n} from '@material-ui/core';\nimport useTable from '../../components/useTable';\nimport * as Service from '../../services/Service';\nimport Controls from '../../components/controls/Controls';\nimport { Search } from '@material-ui/icons';\nimport AddIcon from '@material-ui/icons/Add';\nimport Popup from '../../components/Popup';\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst headCells = [\n  { id: 'date', label: 'Дата' },\n  { id: 'type', label: 'Тип' },\n  { id: 'money', label: 'Сумма' },\n  { id: 'balanceId', label: 'Счет' },\n  { id: 'categoryId', label: 'Категория' },\n  { id: 'contractorId', label: 'Контрагент' },\n  { id: 'projectId', label: 'Проект' },\n];\n\nexport default function Overview() {\n  const [recordForEdit, setRecordForEdit] = useState(null);\n  const [records, setRecords] = useState(Service.getAllTransactions());\n  const [filterFn, setFilterFn] = useState({\n    fn: (items) => {\n      return items;\n    },\n  });\n  const [openPopup, setOpenPopup] = useState(false);\n\n  const { TblContainer, TblHead, TblPagination, recordsAfterPagingAndSorting } = useTable(\n    records,\n    headCells,\n    filterFn,\n  );\n\n  const handleSearch = (e) => {\n    let target = e.target;\n    setFilterFn({\n      fn: (items) => {\n        if (target.value == '') return items;\n        else return items.filter((x) => x.fullName.toLowerCase().includes(target.value));\n      },\n    });\n  };\n\n  const addOrEdit = (transaction, resetForm) => {\n    if (transaction.id == 0) Service.inserttransaction(transaction);\n    else Service.updatetransaction(transaction);\n    resetForm();\n    setRecordForEdit(null);\n    setOpenPopup(false);\n    setRecords(Service.getAllTransactions());\n  };\n\n  const openInPopup = (item) => {\n    setRecordForEdit(item);\n    setOpenPopup(true);\n  };\n\n  return (\n    <>\n      <Toolbar>\n        <Controls.Button\n          text=\"Add New\"\n          variant=\"outlined\"\n          startIcon={<AddIcon />}\n          onClick={() => {\n            setOpenPopup(true);\n            setRecordForEdit(null);\n          }}\n        />\n      </Toolbar>\n      <TblContainer>\n        <TblHead />\n        <TableBody>\n          {recordsAfterPagingAndSorting().map((item) => (\n            <TableRow key={item.id}>\n              <TableCell>{item.date}</TableCell>\n              <TableCell>{item.type}</TableCell>\n              <TableCell>{item.money}</TableCell>\n              <TableCell>{item.balance}</TableCell>\n              <TableCell>{item.categoryId}</TableCell>\n              <TableCell>{item.contractorId}</TableCell>\n              <TableCell>{item.projectId}</TableCell>\n              <TableCell>\n                <Controls.ActionButton\n                  color=\"primary\"\n                  onClick={() => {\n                    openInPopup(item);\n                  }}>\n                  <EditOutlinedIcon fontSize=\"small\" />\n                </Controls.ActionButton>\n                <Controls.ActionButton color=\"secondary\">\n                  <CloseIcon fontSize=\"small\" />\n                </Controls.ActionButton>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </TblContainer>\n      <TblPagination />\n      <Popup title=\"transaction Form\" openPopup={openPopup} setOpenPopup={setOpenPopup}>\n        <transactionForm recordForEdit={recordForEdit} addOrEdit={addOrEdit} />\n      </Popup>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}