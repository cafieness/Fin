{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/cafieness/Desktop/FMS-TEAM4/app/src/pages/Overview/Expense.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Grid } from '@material-ui/core';\nimport Controls from '../../components/controls/Controls';\nimport { useForm, Form } from '../../components/useForm';\nimport * as Service from '../../services/Service';\nconst initialValues = {\n  type: 'Расход',\n  id: 0,\n  balance: '',\n  categoryId: '',\n  money: 0,\n  date: new Date(),\n  contractorId: '',\n  projectId: '',\n  comments: ''\n};\nexport default function Expense(props) {\n  _s();\n\n  const {\n    addOrEdit,\n    recordForEdit\n  } = props;\n\n  const validate = (fieldValues = values) => {\n    let temp = { ...errors\n    };\n    if ('fullName' in fieldValues) temp.fullName = fieldValues.fullName ? '' : 'This field is required.';\n    if ('email' in fieldValues) temp.email = /$^|.+@.+..+/.test(fieldValues.email) ? '' : 'Email is not valid.';\n    if ('mobile' in fieldValues) temp.mobile = fieldValues.mobile.length > 9 ? '' : 'Minimum 10 numbers required.';\n    if ('departmentId' in fieldValues) temp.departmentId = fieldValues.departmentId.length != 0 ? '' : 'This field is required.';\n    setErrors({ ...temp\n    });\n    if (fieldValues == values) return Object.values(temp).every(x => x == '');\n  };\n\n  const {\n    values,\n    setValues,\n    errors,\n    setErrors,\n    handleInputChange,\n    resetForm\n  } = useForm(initialValues, true, validate);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (validate()) {\n      addOrEdit(values, resetForm);\n    }\n  };\n\n  useEffect(() => {\n    if (recordForEdit != null) setValues({ ...recordForEdit\n    });\n  }, [recordForEdit]);\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: handleSubmit,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: [/*#__PURE__*/_jsxDEV(Controls.Select, {\n          name: \"balance\",\n          label: \"\\u0421\\u043E \\u0441\\u0447\\u0435\\u0442\\u0430\",\n          value: values.balance,\n          onChange: handleInputChange,\n          options: Service.getBalanceCollection()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls.Select, {\n          name: \"categoryId\",\n          label: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\",\n          value: values.categoryId,\n          onChange: handleInputChange,\n          options: Service.getCategoryCollection()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls.Select, {\n          name: \"contractorId\",\n          label: \"\\u041A\\u043E\\u043D\\u0442\\u0440\\u0430\\u0433\\u0435\\u043D\\u0442\",\n          value: values.contractorId,\n          onChange: handleInputChange,\n          options: Service.getContractorCollection()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls.Select, {\n          name: \"projectId\",\n          label: \"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\",\n          value: values.projectId,\n          onChange: handleInputChange,\n          options: Service.getProjectCollection()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        xs: 6,\n        align: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Controls.Input, {\n          name: \"money\",\n          label: \"\\u0421\\u0443\\u043C\\u043C\\u0430 \\u0441\\u0440\\u0435\\u0434\\u0441\\u0442\\u0432\",\n          value: values.money,\n          onChange: handleInputChange,\n          type: \"number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls.Date, {\n          name: \"date\",\n          label: \"\\u0414\\u0430\\u0442\\u0430\",\n          value: values.date,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls.TextArea, {\n          name: \"comments\",\n          label: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",\n          value: values.comments,\n          onChange: handleInputChange,\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onSubmit: handleSubmit,\n          className: \"form__submit\",\n          children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Expense, \"sJzGov1Odg1EgrLIbXOUBBZnNQ0=\", false, function () {\n  return [useForm];\n});\n\n_c = Expense;\n\nvar _c;\n\n$RefreshReg$(_c, \"Expense\");","map":{"version":3,"sources":["/home/cafieness/Desktop/FMS-TEAM4/app/src/pages/Overview/Expense.js"],"names":["React","useState","useEffect","Grid","Controls","useForm","Form","Service","initialValues","type","id","balance","categoryId","money","date","Date","contractorId","projectId","comments","Expense","props","addOrEdit","recordForEdit","validate","fieldValues","values","temp","errors","fullName","email","test","mobile","length","departmentId","setErrors","Object","every","x","setValues","handleInputChange","resetForm","handleSubmit","e","preventDefault","getBalanceCollection","getCategoryCollection","getContractorCollection","getProjectCollection"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Grid } from '@material-ui/core';\nimport Controls from '../../components/controls/Controls';\nimport { useForm, Form } from '../../components/useForm';\nimport * as Service from '../../services/Service';\n\nconst initialValues = {\n  type: 'Расход',\n  id: 0,\n  balance: '',\n  categoryId: '',\n  money: 0,\n  date: new Date(),\n  contractorId: '',\n  projectId: '',\n  comments: '',\n};\n\nexport default function Expense(props) {\n  const { addOrEdit, recordForEdit } = props;\n\n  const validate = (fieldValues = values) => {\n    let temp = { ...errors };\n    if ('fullName' in fieldValues)\n      temp.fullName = fieldValues.fullName ? '' : 'This field is required.';\n    if ('email' in fieldValues)\n      temp.email = /$^|.+@.+..+/.test(fieldValues.email) ? '' : 'Email is not valid.';\n    if ('mobile' in fieldValues)\n      temp.mobile = fieldValues.mobile.length > 9 ? '' : 'Minimum 10 numbers required.';\n    if ('departmentId' in fieldValues)\n      temp.departmentId = fieldValues.departmentId.length != 0 ? '' : 'This field is required.';\n    setErrors({\n      ...temp,\n    });\n\n    if (fieldValues == values) return Object.values(temp).every((x) => x == '');\n  };\n\n  const { values, setValues, errors, setErrors, handleInputChange, resetForm } = useForm(\n    initialValues,\n    true,\n    validate,\n  );\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (validate()) {\n      addOrEdit(values, resetForm);\n    }\n  };\n\n  useEffect(() => {\n    if (recordForEdit != null)\n      setValues({\n        ...recordForEdit,\n      });\n  }, [recordForEdit]);\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Grid container>\n        <Grid item xs={6}>\n          <Controls.Select\n            name=\"balance\"\n            label=\"Со счета\"\n            value={values.balance}\n            onChange={handleInputChange}\n            options={Service.getBalanceCollection()}\n          />\n          <Controls.Select\n            name=\"categoryId\"\n            label=\"Категория\"\n            value={values.categoryId}\n            onChange={handleInputChange}\n            options={Service.getCategoryCollection()}\n          />\n          <Controls.Select\n            name=\"contractorId\"\n            label=\"Контрагент\"\n            value={values.contractorId}\n            onChange={handleInputChange}\n            options={Service.getContractorCollection()}\n          />\n          <Controls.Select\n            name=\"projectId\"\n            label=\"Проект\"\n            value={values.projectId}\n            onChange={handleInputChange}\n            options={Service.getProjectCollection()}\n          />\n        </Grid>\n        <Grid xs={6} align=\"center\">\n          <Controls.Input\n            name=\"money\"\n            label=\"Сумма средств\"\n            value={values.money}\n            onChange={handleInputChange}\n            type=\"number\"\n          />\n          <Controls.Date\n            name=\"date\"\n            label=\"Дата\"\n            value={values.date}\n            onChange={handleInputChange}\n          />\n          <Controls.TextArea\n            name=\"comments\"\n            label=\"Комментарий\"\n            value={values.comments}\n            onChange={handleInputChange}\n            type=\"text\"\n          />\n          <button onSubmit={handleSubmit} className=\"form__submit\">\n            Отправить\n          </button>\n        </Grid>\n      </Grid>\n    </Form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}