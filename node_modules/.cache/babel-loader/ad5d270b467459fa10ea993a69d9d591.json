{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/cafieness/Desktop/FMS-TEAM4/app/src/pages/Overview/EmployeeForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Grid } from '@material-ui/core';\nimport Controls from '../../components/controls/Controls';\nimport { useForm, Form } from '../../components/useForm';\nimport * as Service from '../../services/Service';\nconst initialFValues = {\n  type: 'Доход',\n  id: 0,\n  balance: '',\n  categoryId: '',\n  money: 0,\n  date: new Date(),\n  contractorId: '',\n  projectId: '',\n  comments: ''\n};\nexport default function EmployeeForm(props) {\n  _s();\n\n  const {\n    addOrEdit,\n    recordForEdit\n  } = props;\n\n  const validate = (fieldValues = values) => {\n    let temp = { ...errors\n    };\n    if ('fullName' in fieldValues) temp.fullName = fieldValues.fullName ? '' : 'This field is required.';\n    if ('email' in fieldValues) temp.email = /$^|.+@.+..+/.test(fieldValues.email) ? '' : 'Email is not valid.';\n    if ('mobile' in fieldValues) temp.mobile = fieldValues.mobile.length > 9 ? '' : 'Minimum 10 numbers required.';\n    if ('departmentId' in fieldValues) temp.departmentId = fieldValues.departmentId.length != 0 ? '' : 'This field is required.';\n    setErrors({ ...temp\n    });\n    if (fieldValues == values) return Object.values(temp).every(x => x == '');\n  };\n\n  const {\n    values,\n    setValues,\n    errors,\n    setErrors,\n    handleInputChange,\n    resetForm\n  } = useForm(initialFValues, true, validate);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (validate()) {\n      addOrEdit(values, resetForm);\n    }\n  };\n\n  useEffect(() => {\n    if (recordForEdit != null) setValues({ ...recordForEdit\n    });\n  }, [recordForEdit]);\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: handleSubmit,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: [/*#__PURE__*/_jsxDEV(Controls.Input, {\n          name: \"fullName\",\n          label: \"Full Name\",\n          value: values.fullName,\n          onChange: handleInputChange,\n          error: errors.fullName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls.Input, {\n          label: \"Email\",\n          name: \"email\",\n          value: values.email,\n          onChange: handleInputChange,\n          error: errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls.Input, {\n          label: \"Mobile\",\n          name: \"mobile\",\n          value: values.mobile,\n          onChange: handleInputChange,\n          error: errors.mobile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls.Input, {\n          label: \"City\",\n          name: \"city\",\n          value: values.city,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: [/*#__PURE__*/_jsxDEV(Controls.RadioGroup, {\n          name: \"gender\",\n          label: \"Gender\",\n          value: values.gender,\n          onChange: handleInputChange,\n          items: genderItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls.Select, {\n          name: \"departmentId\",\n          label: \"Department\",\n          value: values.departmentId,\n          onChange: handleInputChange,\n          options: Service.getDepartmentCollection(),\n          error: errors.departmentId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls.DatePicker, {\n          name: \"hireDate\",\n          label: \"Hire Date\",\n          value: values.hireDate,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls.Checkbox, {\n          name: \"isPermanent\",\n          label: \"Permanent Employee\",\n          value: values.isPermanent,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Controls.Button, {\n            type: \"submit\",\n            text: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Controls.Button, {\n            text: \"Reset\",\n            color: \"default\",\n            onClick: resetForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EmployeeForm, \"sJzGov1Odg1EgrLIbXOUBBZnNQ0=\", false, function () {\n  return [useForm];\n});\n\n_c = EmployeeForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"EmployeeForm\");","map":{"version":3,"sources":["/home/cafieness/Desktop/FMS-TEAM4/app/src/pages/Overview/EmployeeForm.js"],"names":["React","useState","useEffect","Grid","Controls","useForm","Form","Service","initialFValues","type","id","balance","categoryId","money","date","Date","contractorId","projectId","comments","EmployeeForm","props","addOrEdit","recordForEdit","validate","fieldValues","values","temp","errors","fullName","email","test","mobile","length","departmentId","setErrors","Object","every","x","setValues","handleInputChange","resetForm","handleSubmit","e","preventDefault","city","gender","genderItems","getDepartmentCollection","hireDate","isPermanent"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Grid } from '@material-ui/core';\nimport Controls from '../../components/controls/Controls';\nimport { useForm, Form } from '../../components/useForm';\nimport * as Service from '../../services/Service';\n\nconst initialFValues = {\n  type: 'Доход',\n  id: 0,\n  balance: '',\n  categoryId: '',\n  money: 0,\n  date: new Date(),\n  contractorId: '',\n  projectId: '',\n  comments: '',\n};\n\nexport default function EmployeeForm(props) {\n  const { addOrEdit, recordForEdit } = props;\n\n  const validate = (fieldValues = values) => {\n    let temp = { ...errors };\n    if ('fullName' in fieldValues)\n      temp.fullName = fieldValues.fullName ? '' : 'This field is required.';\n    if ('email' in fieldValues)\n      temp.email = /$^|.+@.+..+/.test(fieldValues.email) ? '' : 'Email is not valid.';\n    if ('mobile' in fieldValues)\n      temp.mobile = fieldValues.mobile.length > 9 ? '' : 'Minimum 10 numbers required.';\n    if ('departmentId' in fieldValues)\n      temp.departmentId = fieldValues.departmentId.length != 0 ? '' : 'This field is required.';\n    setErrors({\n      ...temp,\n    });\n\n    if (fieldValues == values) return Object.values(temp).every((x) => x == '');\n  };\n\n  const { values, setValues, errors, setErrors, handleInputChange, resetForm } = useForm(\n    initialFValues,\n    true,\n    validate,\n  );\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (validate()) {\n      addOrEdit(values, resetForm);\n    }\n  };\n\n  useEffect(() => {\n    if (recordForEdit != null)\n      setValues({\n        ...recordForEdit,\n      });\n  }, [recordForEdit]);\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Grid container>\n        <Grid item xs={6}>\n          <Controls.Input\n            name=\"fullName\"\n            label=\"Full Name\"\n            value={values.fullName}\n            onChange={handleInputChange}\n            error={errors.fullName}\n          />\n          <Controls.Input\n            label=\"Email\"\n            name=\"email\"\n            value={values.email}\n            onChange={handleInputChange}\n            error={errors.email}\n          />\n          <Controls.Input\n            label=\"Mobile\"\n            name=\"mobile\"\n            value={values.mobile}\n            onChange={handleInputChange}\n            error={errors.mobile}\n          />\n          <Controls.Input\n            label=\"City\"\n            name=\"city\"\n            value={values.city}\n            onChange={handleInputChange}\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <Controls.RadioGroup\n            name=\"gender\"\n            label=\"Gender\"\n            value={values.gender}\n            onChange={handleInputChange}\n            items={genderItems}\n          />\n          <Controls.Select\n            name=\"departmentId\"\n            label=\"Department\"\n            value={values.departmentId}\n            onChange={handleInputChange}\n            options={Service.getDepartmentCollection()}\n            error={errors.departmentId}\n          />\n          <Controls.DatePicker\n            name=\"hireDate\"\n            label=\"Hire Date\"\n            value={values.hireDate}\n            onChange={handleInputChange}\n          />\n          <Controls.Checkbox\n            name=\"isPermanent\"\n            label=\"Permanent Employee\"\n            value={values.isPermanent}\n            onChange={handleInputChange}\n          />\n\n          <div>\n            <Controls.Button type=\"submit\" text=\"Submit\" />\n            <Controls.Button text=\"Reset\" color=\"default\" onClick={resetForm} />\n          </div>\n        </Grid>\n      </Grid>\n    </Form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}